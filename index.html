<!DOCTYPE html>
<html>
<head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div id="channels"></div>

    <script>
        const BOT_TOKEN = '5718405917:AAEtLH8r_FEh98utTX7-1iSRBBifbMJ0REY'; // Замени на токен бота
        const tg = window.Telegram.WebApp;
        
        tg.ready();
        tg.expand();
        
        async function getBotChats() {
            try {
                // Получаем список чатов, где бот администратор
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/getChats`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        // Получаем все каналы и супергруппы
                        // Можно использовать: "getChatAdministrators" для проверки админства в конкретном чате
                    })
                });
                
                const data = await response.json();
                
                // НО: Метод getChats требует user_id, а не bot_id
                // Лучше использовать getChatAdministrators для каждого чата
                // ИЛИ получить список через getUpdates
                
                document.getElementById('channels').innerHTML = 
                    'Получение данных... (см. консоль)';
                console.log(data);
                
            } catch (error) {
                document.getElementById('channels').innerHTML = 
                    'Ошибка: ' + error.message;
            }
        }
        
        getBotChats();
    </script>
</body>
</html>
